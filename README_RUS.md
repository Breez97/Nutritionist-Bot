# Nutrition Bot

Nutrition Bot — это Telegram-бот, который рекомендует оптимизированные по калорийности планы питания на основе целей
пользователя в области диеты. Бот разработан с использованием микросервисной архитектуры, что позволяет модулям быть
независимо масштабируемыми и обновляемыми.

В этой архитектуре каждый микросервис отвечает за определённую функциональность. Например, один микросервис обрабатывает
основную логику бота, управляя взаимодействиями с пользователями и обработкой их запросов. Другой микросервис занимается
подсчётом калорий на основе данных пользователя, обеспечивая соответствие плана питания его целям. Третий микросервис
генерирует меню на основе предпочтений пользователя, создавая персонализированные предложения, которые вписываются в его
калорийные нормы и диетические ограничения.

Для связи между микросервисами используется брокер сообщений Kafka.

### Содержание

- [Технологический стек](#технологический-стек)
- [Обзор](#обзор)
- [Сервисы](#сервисы)
- [Схема сервисов](#схема-сервисов)
- [Схема состояний Телеграм бота](#схема-состояний-телеграм-бота)

### Технологический стек

- Java 17
- Spring Boot
- Spring Data JPA
- Spring Web
- PostgreSQL
- Kafka
- Maven

### Обзор

[![Telegram Bot Overview](https://img.youtube.com/vi/oURoDTx5QqU/0.jpg)](https://www.youtube.com/watch?v=oURoDTx5QqU)

### Сервисы

#### Сервис диспетчера

**Сервис диспетчера** обрабатывает основную логику работы Telegram-бота. Он управляет взаимодействием с пользователями,
обрабатывает их запросы и обеспечивает плавное взаимодействие между пользователем и другими микросервисами. Когда
пользователь отправляет запрос (например, попросить план питания или указать диетические предпочтения), Диспетчер
передаёт эту информацию в соответствующие сервисы, собирает ответы и отправляет окончательную рекомендацию обратно
пользователю.

#### Сервис расчёта калорий

**Сервис расчёта калорий** отвечает за подсчёт суточной калорийности для пользователя на основе его данных, таких как
возраст, вес, рост, уровень активности и цели (например, похудение или поддержание веса). Если пользователь не знает,
сколько калорий ему следует потреблять, этот сервис рассчитывает оптимальную суточную калорийность в соответствии с его
целями.

#### Сервис генерации меню

**Сервис генерации меню** создаёт персонализированные планы питания на основе предпочтений и потребностей пользователя в
калориях. Он извлекает блюда из базы данных и генерирует меню, которое соответствует калорийной норме пользователя и
соблюдает его диетические ограничения (например, вегетарианство, палео, кето). Этот сервис также обеспечивает баланс
макронутриентов и разнообразие предлагаемых блюд.

#### Сервис парсинга

**Сервис парсинга** собирает информацию о питании и данные о блюдах с различных веб-сайтов. Этот сервис собирает такие
данные, как описание блюд, их калорийность и состав макронутриентов. Извлечённые данные отправляются в базу данных, что
позволяет поддерживать актуальность вариантов питания и расширять выбор блюд для генератора меню.

### Схема сервисов

![Services Schema](/img/services_schema.png)

### Схема состояний Телеграм бота

![TG Bot Schema](/img/TG_Bot_Schema.jpg)

